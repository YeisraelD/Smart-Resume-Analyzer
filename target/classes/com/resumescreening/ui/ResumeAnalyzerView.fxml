<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane fx:id="root" style="-fx-background-color: linear-gradient(to bottom right, #000000, #1a1a2e); -fx-font-family: 'Segoe UI', sans-serif;" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.resumescreening.ui.GUIController">
   <top>
      <VBox fx:id="logoContainer" alignment="CENTER" spacing="10.0" style="-fx-background-color: linear-gradient(to bottom, #161b22, #0d1117); -fx-border-color: transparent transparent #00a8ff transparent; -fx-border-width: 0 0 1 0; -fx-effect: dropshadow(three-pass-box, rgba(0, 168, 255, 0.2), 10, 0, 0, 0);" BorderPane.alignment="CENTER">
         <padding>
            <Insets bottom="15.0" top="15.0" />
         </padding>
         <children>
            <ImageView fx:id="logoView" fitHeight="100.0" pickOnBounds="true" preserveRatio="true" />
            <Label text="SMART HIRE" textFill="WHITE">
               <font>
                  <Font name="System Bold" size="36.0" />
               </font>
               <style>
                  -fx-letter-spacing: 2px; -fx-effect: dropshadow(two-pass-box, rgba(0, 168, 255, 0.5), 10, 0, 0, 0);
               </style>
            </Label>
            <Label text="AI-Powered Screening" textFill="#8b949e">
               <font>
                  <Font name="System Italic" size="14.0" />
               </font>
            </Label>
         </children>
      </VBox>
   </top>
   <left>
      <VBox prefWidth="350.0" spacing="20.0" style="-fx-background-color: #0d1117; -fx-border-color: transparent #00a8ff transparent transparent; -fx-border-width: 0 1 0 0; -fx-effect: dropshadow(three-pass-box, rgba(0, 168, 255, 0.15), 10, 0, 0, 0);" BorderPane.alignment="CENTER">
         <padding>
            <Insets bottom="30.0" left="20.0" right="20.0" top="30.0" />
         </padding>
         <children>
            <VBox spacing="8.0">
               <children>
                  <Label text="Hugging Face API Key:" textFill="#00a8ff">
                     <font>
                        <Font name="System Bold" size="13.0" />
                     </font>
                  </Label>
                  <TextField fx:id="apiKeyField" promptText="Enter API Key..." style="-fx-background-radius: 5; -fx-border-radius: 5; -fx-background-color: #21262d; -fx-border-color: #30363d; -fx-text-fill: white; -fx-prompt-text-fill: #8b949e;">
                     <padding>
                        <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                     </padding>
                  </TextField>
               </children>
            </VBox>
            <VBox layoutX="30.0" layoutY="245.0" spacing="8.0" VBox.vgrow="ALWAYS">
               <children>
                  <Label text="Job Description:" textFill="#00a8ff">
                     <font>
                        <Font name="System Bold" size="13.0" />
                     </font>
                  </Label>
                  <TextArea fx:id="jdArea" prefRowCount="10" promptText="Paste Job Description..." style="-fx-control-inner-background: #21262d; -fx-text-fill: white; -fx-prompt-text-fill: #8b949e; -fx-background-color: #21262d;" wrapText="true" VBox.vgrow="ALWAYS" />
               </children>
            </VBox>
            <Button fx:id="uploadButton" maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#handleFileUpload" onMouseEntered="#handleButtonHover" onMouseExited="#handleButtonExit" style="-fx-background-color: transparent; -fx-border-color: #00a8ff; -fx-border-radius: 25; -fx-text-fill: #00a8ff; -fx-cursor: hand;" text="Upload Resumes">
               <font>
                  <Font name="System Bold" size="14.0" />
               </font>
               <padding>
                  <Insets bottom="12.0" left="20.0" right="20.0" top="12.0" />
               </padding>
            </Button>
            <Label fx:id="resumeCountLabel" text="No resumes uploaded" textFill="#8b949e">
               <font>
                  <Font size="12.0" />
               </font>
               <padding>
                  <Insets left="5.0" />
               </padding>
            </Label>
            <Button fx:id="analyzeButton" layoutX="30.0" layoutY="542.0" maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#handleAnalysis" onMouseEntered="#handleAnalyzeHover" onMouseExited="#handleAnalyzeExit" style="-fx-background-color: transparent; -fx-border-color: #9c88ff; -fx-border-radius: 25; -fx-text-fill: #9c88ff; -fx-cursor: hand;" text="Analyze Candidates">
               <font>
                  <Font name="System Bold" size="14.0" />
               </font>
               <padding>
                  <Insets bottom="12.0" left="20.0" right="20.0" top="12.0" />
               </padding>
            </Button>
            <Button fx:id="clearButton" layoutX="30.0" layoutY="607.0" maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#handleClear" style="-fx-background-color: transparent; -fx-border-color: #ff6b81; -fx-border-radius: 25; -fx-text-fill: #ff6b81; -fx-cursor: hand;" text="Clear">
               <padding>
                  <Insets bottom="10.0" left="20.0" right="20.0" top="10.0" />
               </padding>
            </Button>
            <Label fx:id="statusLabel" alignment="CENTER" maxWidth="1.7976931348623157E308" text="Ready." textFill="#8b949e">
               <font>
                  <Font size="11.0" />
               </font>
               <padding>
                  <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
               </padding>
            </Label>
         </children>
      </VBox>
   </left>
   <center>
      <SplitPane dividerPositions="0.45" orientation="VERTICAL" style="-fx-background-color: transparent;" BorderPane.alignment="CENTER">
         <padding>
            <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
         </padding>
         
         <items>
            <VBox spacing="10.0" style="-fx-background-color: transparent;">
               <children>
                  <Label text="Analysis Results" textFill="WHITE">
                     <font>
                        <Font name="System Bold" size="18.0" />
                     </font>
                  </Label>
                  <TableView fx:id="resultsTable" style="-fx-background-color: transparent; -fx-base: #0d1117; -fx-control-inner-background: #0d1117; -fx-table-cell-border-color: #30363d;" VBox.vgrow="ALWAYS">
                    <columns>
                      <TableColumn fx:id="nameCol" prefWidth="150.0" style="-fx-alignment: CENTER-LEFT; -fx-font-weight: bold; -fx-text-fill: white; -fx-font-size: 13px;" text="Name" />
                      <TableColumn fx:id="scoreCol" prefWidth="100.0" style="-fx-alignment: CENTER;" text="Match Score" />
                        <TableColumn fx:id="skillsCol" prefWidth="200.0" style="-fx-alignment: CENTER-LEFT; -fx-text-fill: #b0b0b0;" text="Top Skills" />
                        <TableColumn fx:id="roleCol" prefWidth="150.0" style="-fx-alignment: CENTER-LEFT; -fx-text-fill: #00a8ff; -fx-font-style: italic;" text="Rec. Role" />
                    </columns>
                     <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                     </columnResizePolicy>
                  </TableView>
               </children>
            </VBox>
            <HBox spacing="20.0" style="-fx-background-color: transparent;">
               <padding>
                  <Insets top="10.0" />
               </padding>
               <children>
                  <VBox spacing="10.0" HBox.hgrow="ALWAYS">
                     <children>
                        <Label text="Deep Dive Analysis" textFill="WHITE">
                           <font>
                              <Font name="System Bold" size="16.0" />
                           </font>
                        </Label>
                        <ScrollPane fx:id="detailsScrollPane" fitToWidth="true" style="-fx-background-color: transparent; -fx-background: transparent; -fx-border-color: #30363d; -fx-border-radius: 8;" VBox.vgrow="ALWAYS">
                           <content>
                              <VBox fx:id="detailsContent" spacing="15.0" style="-fx-background-color: transparent;">
                                 <padding>
                                    <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                                 </padding>
                              </VBox>
                           </content>
                        </ScrollPane>
                     </children>
                  </VBox>
                  <VBox prefWidth="350.0" spacing="10.0">
                     <children>
                        <Label text="Skill Visualization" textFill="WHITE">
                           <font>
                              <Font name="System Bold" size="16.0" />
                           </font>
                        </Label>
                        <PieChart fx:id="skillsChart" labelsVisible="true" legendVisible="false" style="-fx-background-color: transparent;" VBox.vgrow="ALWAYS" />
                     </children>
                  </VBox>
               </children>
            </HBox>
         </items>
      </SplitPane>
   </center>
</BorderPane>
